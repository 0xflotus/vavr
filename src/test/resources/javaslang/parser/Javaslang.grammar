grammar Javaslang

grammar : 'grammar' ID ';'? rule+

rule : ID ':' rulePart ( '|' rulePart )* ';'?

rulePart
  : negatable
  | Literal
  | Reference
  | quantifier
  | subrule
  | sequence

negatable
  : ANY
  | EOF
  | Charset
  | Range
  | negation

Charset : '[' ( CHAR | CHAR '-' CHAR )+ ']'

Literal : '\'' CHAR* '\''

Range : '\'' CHAR '\'' '-' '\'' CHAR '\''

negation : '!' negatable

Reference : ID

quantifier : rulePart ( '?' | '*' | '+' | '{' INT ',' INT '}' | '{' INT '}' )

subrule : '(' ( ID ':' )? rulePart ( '|' rulePart )* ')'

sequence : rulePart*

ANY  : .
EOF  : 'EOF'
CHAR : .
ID   : [a-zA-Z]+
INT  : '0'..'9'+
